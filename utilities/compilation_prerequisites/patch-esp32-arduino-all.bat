@echo off
setlocal
cls

echo(....................................................................................................
echo(....................................................................................................
echo(....................:-=-:..................................................:-=-:....................
echo(............++++*+*########*+*++......................................*+*+*#######**+++++............
echo(.........++*#################++........-+++.............+***.........++##################+++.........
echo(......***###################*+*#+.......+*##**..........*###*........+#*+*##################*+*......
echo(..........-################*+*##++......-+###*++++++++++####*.......+*###+*###############-..........
echo(..............###########++#####++......*#+++++++++++++++#**......++#####++###########..............
echo(................########*+########++.....++++++++++++++++++.....+*########++########................
echo(..................#####++##########+++..=+++*.@+++++..@++++...+++##########++#####..................
echo(...................###++#############*++++++@@@+++++@@@+++++++*#############+*###...................
echo(...................##+*################+++--=++++++++---+++################*+##...................
echo(....................#+*#################++++++++++++++++++++#################*+#....................
echo(....................*+##################++++++++++++++++++++##################+*....................
echo(....................*###################+++++++++++++++++++####################*....................
echo(.............................############++++++++++++++++++############.............................
echo(................................##########+++++++++++++++++##########:...............................
echo(........................................###+++++++++++++++*##........................................
echo(...........................................++++++++++++++...........................................
echo(............................................+++++++++++:............................................
echo(..............................................*+++++*...............................................
echo(...............................................@@.@@@...............................................
echo(....................................................................................................

echo.
echo BEWARE OF THE BAT !
echo -------------------------------------------------------
echo.

timeout /t 2 >nul

set "PS1=%~dp0patch-esp32-arduino-all.ps1"

if not exist "%PS1%" (
    echo [ERROR] patch-esp32-arduino-all.ps1 not found in current directory
    pause
    exit /b 1
)

powershell -NoProfile -ExecutionPolicy Bypass -File "%PS1%"

echo.
echo [DONE] PowerShell patcher finished
pause
